interface Functor for F<T> {
    map<A, B>(f: (a: A) -> B, x: F<A>): F<B>;
}

type Foo<T> = {n: T};

implements Functor for Foo {
    map<A, B>(f: (a: A) -> B, x: Foo<A>): Foo<B> {
        return {n: f(x.n)}
    }
}

type Bar<T> = {m: T};

implements Functor for Bar {
    map<A, B>(f: (a: A) -> B, x: Bar<A>): Bar<B> {
        return {m: f(x.m)}
    }
}

function numToStr(n: number): string;

function f0(): string {
    return map(numToStr, {n: 42}).n
}

//function g0<M: type -> Functor, A, B>(f: (a: A) -> B, x: M<A>): M<B> {
//    return map(f, x)
//}
//
//function g1(): string {
//    return g0(numToStr, {n: 42}).n
//}
